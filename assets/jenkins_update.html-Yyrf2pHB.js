import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as a,c as s,b as t}from"./app-DrsE8OIX.js";const e="/work-blog/assets/jenkins_error-UVc2Pg0P.png",i={},o=t('<h2 id="jenkins升级" tabindex="-1"><a class="header-anchor" href="#jenkins升级"><span>Jenkins升级</span></a></h2><h3 id="替换镜像" tabindex="-1"><a class="header-anchor" href="#替换镜像"><span>替换镜像</span></a></h3><p>直接替换高版本jenkins容器后，console会报权限插件错误</p><figure><img src="'+e+`" alt="jenkins替换容器后报错" tabindex="0" loading="lazy"><figcaption>jenkins替换容器后报错</figcaption></figure><h3 id="修改config-xml" tabindex="-1"><a class="header-anchor" href="#修改config-xml"><span>修改config.xml</span></a></h3><ol><li>备份config.xml</li><li>修改authorizationStrategy标签</li></ol><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>authorizationStrategy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hudson.security.FullControlOnceLoggedInAuthorizationStrategy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>denyAnonymousReadAccess</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>denyAnonymousReadAccess</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>authorizationStrategy</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>在网上看有个教程需要删除securityRealm标签块，我没有删除，依然正常进入。</p><h3 id="更新插件" tabindex="-1"><a class="header-anchor" href="#更新插件"><span>更新插件</span></a></h3><ol><li>用原账号密码登录进jenkins</li><li>系统管理-&gt;插件管理-&gt;Advanced settings,修改升级站点 https://mirrors.huaweicloud.com/jenkins/updates/dynamic-stable-2.462.1/update-center.json</li><li>更新插件</li><li>重启还原配置</li></ol><h2 id="jenkins权限配置错误导致登录403、页面空白或者ui只展示报错页面" tabindex="-1"><a class="header-anchor" href="#jenkins权限配置错误导致登录403、页面空白或者ui只展示报错页面"><span>jenkins权限配置错误导致登录403、页面空白或者UI只展示报错页面</span></a></h2><p>找到jenkins的config.xml文件</p><ol><li>这个权限对应&quot;任何用户可以做任何事(没有任何限制)&quot;</li></ol><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>authorizationStrategy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hudson.security.AuthorizationStrategy$Unsecured<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li>这个权限对应&quot;登录用户可以做任何&quot;</li></ol><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>authorizationStrategy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hudson.security.FullControlOnceLoggedInAuthorizationStrategy<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="3"><li>这个权限对应 test用户可以是管理员、打标签权限</li></ol><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>authorizationStrategy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hudson.security.GlobalMatrixAuthorizationStrategy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>permission</span><span class="token punctuation">&gt;</span></span>hudson.model.Hudson.Administer:test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>permission</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>permission</span><span class="token punctuation">&gt;</span></span>hudson.scm.SCM.Tag:test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>permission</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>authorizationStrategy</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,18),l=[o];function p(c,u){return a(),s("div",null,l)}const k=n(i,[["render",p],["__file","jenkins_update.html.vue"]]),g=JSON.parse('{"path":"/software/jenkins/jenkins_update.html","title":"Jenkins升级","lang":"zh-CN","frontmatter":{"title":"Jenkins升级","icon":"software","description":"Jenkins升级 替换镜像 直接替换高版本jenkins容器后，console会报权限插件错误 jenkins替换容器后报错jenkins替换容器后报错 修改config.xml 备份config.xml 修改authorizationStrategy标签 在网上看有个教程需要删除securityRealm标签块，我没有删除，依然正常进入。 更新插件...","head":[["meta",{"property":"og:url","content":"https://yuhaoxiang.github.io/work-blog/work-blog/software/jenkins/jenkins_update.html"}],["meta",{"property":"og:site_name","content":"大杂烩"}],["meta",{"property":"og:title","content":"Jenkins升级"}],["meta",{"property":"og:description","content":"Jenkins升级 替换镜像 直接替换高版本jenkins容器后，console会报权限插件错误 jenkins替换容器后报错jenkins替换容器后报错 修改config.xml 备份config.xml 修改authorizationStrategy标签 在网上看有个教程需要删除securityRealm标签块，我没有删除，依然正常进入。 更新插件..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-08-26T09:41:49.000Z"}],["meta",{"property":"article:author","content":"yhx"}],["meta",{"property":"article:modified_time","content":"2025-08-26T09:41:49.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Jenkins升级\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-08-26T09:41:49.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yhx\\",\\"url\\":\\"/\\"}]}"]]},"headers":[{"level":2,"title":"Jenkins升级","slug":"jenkins升级","link":"#jenkins升级","children":[{"level":3,"title":"替换镜像","slug":"替换镜像","link":"#替换镜像","children":[]},{"level":3,"title":"修改config.xml","slug":"修改config-xml","link":"#修改config-xml","children":[]},{"level":3,"title":"更新插件","slug":"更新插件","link":"#更新插件","children":[]}]},{"level":2,"title":"jenkins权限配置错误导致登录403、页面空白或者UI只展示报错页面","slug":"jenkins权限配置错误导致登录403、页面空白或者ui只展示报错页面","link":"#jenkins权限配置错误导致登录403、页面空白或者ui只展示报错页面","children":[]}],"git":{"createdTime":1750748016000,"updatedTime":1756201309000,"contributors":[{"name":"余浩翔","email":"1x2_ou6tn9m4r4@dingtalk.com","commits":5}]},"readingTime":{"minutes":0.85,"words":256},"filePathRelative":"software/jenkins/jenkins_update.md","localizedDate":"2025年6月24日","autoDesc":true}');export{k as comp,g as data};
