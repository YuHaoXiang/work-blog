import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as n,c as e,b as s}from"./app-DrsE8OIX.js";const t={},p=s(`<h2 id="keepalivd容器健康检测脚本" tabindex="-1"><a class="header-anchor" href="#keepalivd容器健康检测脚本"><span>Keepalivd容器健康检测脚本</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token shebang important">#! /usr/bin/env bash</span>
<span class="token comment">#容器启动脚本</span>
<span class="token assign-left variable">NEXUS_SH_PATH</span><span class="token operator">=</span>/home/yhx/nexus-docker-start.sh

<span class="token assign-left variable">NEXUS_NUM</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">sudo</span> <span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> <span class="token operator">|</span> <span class="token function">grep</span> nexus <span class="token operator">|</span> <span class="token function">wc</span> <span class="token parameter variable">-l</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token variable">$NEXUS_NUM</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$NEXUS_NUM</span> <span class="token parameter variable">-eq</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token function">sudo</span> <span class="token function">bash</span> <span class="token variable">$NEXUS_SH_PATH</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$NEXUS_NUM</span> <span class="token parameter variable">-eq</span> <span class="token number">1</span>  <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
        <span class="token function">curl</span> <span class="token parameter variable">-v</span> http://192.168.100.10:8081
        <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$?</span> <span class="token parameter variable">-ne</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
                <span class="token function">sudo</span> <span class="token function">docker</span> restart nexus
        <span class="token keyword">fi</span>
<span class="token keyword">fi</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),l=[p];function o(i,c){return n(),e("div",null,l)}const k=a(t,[["render",o],["__file","keepalived.html.vue"]]),u=JSON.parse('{"path":"/shell_script/keepalived.html","title":"Keepalivd容器健康检测脚本","lang":"zh-CN","frontmatter":{"title":"Keepalivd容器健康检测脚本","catalog":"Shell","icon":"keepalived","description":"Keepalivd容器健康检测脚本","head":[["meta",{"property":"og:url","content":"https://yuhaoxiang.github.io/work-blog/work-blog/shell_script/keepalived.html"}],["meta",{"property":"og:site_name","content":"大杂烩"}],["meta",{"property":"og:title","content":"Keepalivd容器健康检测脚本"}],["meta",{"property":"og:description","content":"Keepalivd容器健康检测脚本"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-28T08:47:19.000Z"}],["meta",{"property":"article:author","content":"yhx"}],["meta",{"property":"article:modified_time","content":"2024-04-28T08:47:19.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Keepalivd容器健康检测脚本\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-28T08:47:19.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"yhx\\",\\"url\\":\\"/\\"}]}"]]},"headers":[{"level":2,"title":"Keepalivd容器健康检测脚本","slug":"keepalivd容器健康检测脚本","link":"#keepalivd容器健康检测脚本","children":[]}],"git":{"createdTime":1714294039000,"updatedTime":1714294039000,"contributors":[{"name":"haoxiang.yu@sectrend.com.cn","email":"ZLJw5dEMQLaVgsP","commits":1}]},"readingTime":{"minutes":0.25,"words":75},"filePathRelative":"shell_script/keepalived.md","localizedDate":"2024年4月28日","autoDesc":true}');export{k as comp,u as data};
